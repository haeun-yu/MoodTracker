import{v as Pt,d as et,r as S,o as At,q as tt,c as W,e as h,s as Dt,h as Y,p as nt,j as ot,_ as st,u as It,m as Rt,a as Re,t as _,F as jt,x as Tt,f as Et,k as Ot,D as Wt,n as Yt,A as Lt}from"./index-5yWmXh-r.js";import{c as Xt}from"./calendar-DhRwj3Xh.js";import{G as Bt}from"./gemini-DwKNDCid.js";import{d as zt,C as U,i as J,b as T,c as $t,u as Ht,e as L,f as we,g as rt,h as C,v as q,E as B,t as M,j as ie,k as xe,l as Nt,P as x,m as Vt,n as se,o as Ft,q as Ut,Q as V,H as ee,T as je,r as qt,s as Te,R as it,w as Jt}from"./chart-CU4pDdqY.js";const at="/icons/arrow-left.svg",Gt="/icons/emotions/Happy.svg",Kt="/icons/emotions/Proud.svg",Qt="/icons/emotions/Excited.svg",Zt="/icons/emotions/Grateful.svg",en="/icons/emotions/IDK.svg",tn="/icons/emotions/Sad.svg",nn="/icons/emotions/Angry.svg",on="/icons/emotions/Panicked.svg",sn="/icons/emotions/Exhausted.svg",ve=Pt.create({baseURL:"https://moodTracker.online:443/api/report",withCredentials:!0}),rn=async(t,e)=>{try{const n=await ve.get(`/monthlyFeedback/${t}`,{params:{requestYearMonth:e}});return console.log("getReport response: ",n),n.data.data.resultCode&&n.data.data.resultCode!=="SUCCESS"?null:n.data.data}catch(n){return console.log("getReport error: ",n),null}},an=async t=>{try{const e=await ve.post("/submit",t);return console.log("createReport response: ",e),e.data.data.resultCode==="SUCCESS"}catch(e){return console.log("createReport error: ",e),!1}},ln=async(t,e)=>{try{const n=await ve.get(`/chart/${t}`,{params:{requestYearMonth:e}});return console.log("getMonthScore response: ",n),n.data.data.resultCode&&n.data.data.resultCode==="FAIL"?[]:n.data.data}catch(n){return console.log("getMonthScore error: ",n),[]}},Ee={getReport:rn,createReport:an,getMonthScore:ln},dn="/icons/positive.svg",cn="/icons/negative.svg";/*!
* chartjs-plugin-annotation v3.0.1
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2023 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const Oe={modes:{point(t,e){return oe(t,e,{intersect:!0})},nearest(t,e,n){return hn(t,e,n)},x(t,e,n){return oe(t,e,{intersect:n.intersect,axis:"x"})},y(t,e,n){return oe(t,e,{intersect:n.intersect,axis:"y"})}}};function Se(t,e,n){return(Oe.modes[n.mode]||Oe.modes.nearest)(t,e,n)}function un(t,e,n){return n!=="x"&&n!=="y"?t.inRange(e.x,e.y,"x",!0)||t.inRange(e.x,e.y,"y",!0):t.inRange(e.x,e.y,n,!0)}function fn(t,e,n){return n==="x"?{x:t.x,y:e.y}:n==="y"?{x:e.x,y:t.y}:e}function oe(t,e,n){return t.visibleElements.filter(o=>n.intersect?o.inRange(e.x,e.y):un(o,e,n.axis))}function hn(t,e,n){let o=Number.POSITIVE_INFINITY;return oe(t,e,n).reduce((s,r)=>{const i=r.getCenterPoint(),a=fn(e,i,n.axis),l=xe(e,a);return l<o?(s=[r],o=l):l===o&&s.push(r),s},[]).sort((s,r)=>s._index-r._index).slice(0,1)}const gn=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,j=.001,ae=(t,e,n)=>Math.min(n,Math.max(e,t));function bn(t,e,n){for(const o of Object.keys(t))t[o]=ae(t[o],e,n);return t}function pn(t,e,n,o){if(!t||!e||n<=0)return!1;const s=o/2;return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n+s,2)}function lt(t,{x:e,y:n,x2:o,y2:s},r,i){const a=i/2,l=t.x>=e-a-j&&t.x<=o+a+j,d=t.y>=n-a-j&&t.y<=s+a+j;return r==="x"?l:(r==="y"||l)&&d}function z(t,e){const{centerX:n,centerY:o}=t.getProps(["centerX","centerY"],e);return{x:n,y:o}}function yn(t,e,n,o=!0){const s=n.split(".");let r=0;for(const i of e.split(".")){const a=s[r++];if(parseInt(i,10)<parseInt(a,10))break;if(gn(a,i)){if(o)throw new Error(`${t} v${n} is not supported. v${e} or newer is required.`);return!1}}return!0}const dt=t=>typeof t=="string"&&t.endsWith("%"),ct=t=>parseFloat(t)/100,ut=t=>ae(ct(t),0,1),te=(t,e)=>({x:t,y:e,x2:t,y2:e,width:0,height:0}),mn={box:t=>te(t.centerX,t.centerY),ellipse:t=>({centerX:t.centerX,centerY:t.centerX,radius:0,width:0,height:0}),label:t=>te(t.centerX,t.centerY),line:t=>te(t.x,t.y),point:t=>({centerX:t.centerX,centerY:t.centerY,radius:0,width:0,height:0}),polygon:t=>te(t.centerX,t.centerY)};function Ce(t,e){return e==="start"?0:e==="end"?t:dt(e)?ut(e)*t:t/2}function A(t,e,n=!0){return typeof e=="number"?e:dt(e)?(n?ut(e):ct(e))*t:t}function wn(t,e){const{x:n,width:o}=t,s=e.textAlign;return s==="center"?n+o/2:s==="end"||s==="right"?n+o:n}function Me(t,e="center"){return J(t)?{x:q(t.x,e),y:q(t.y,e)}:(t=q(t,e),{x:t,y:t})}function ft(t){return t&&(C(t.xValue)||C(t.yValue))}function G(t,e,n){const o=n.init;if(o){if(o===!0)return gt(e,n)}else return;return xn(t,e,n)}function ht(t,e,n){let o=!1;return e.forEach(s=>{L(t[s])?(o=!0,n[s]=t[s]):C(n[s])&&delete n[s]}),o}function gt(t,e){const n=e.type||"line";return mn[n](t)}function xn(t,e,n){const o=we(n.init,[{chart:t,properties:e,options:n}]);if(o===!0)return gt(e,n);if(J(o))return o}const ue=new Map,vn=t=>isNaN(t)||t<=0,Sn=t=>t.reduce(function(e,n){return e+=n.string,e},"");function le(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function _e(t,{x:e,y:n},o){o&&(t.translate(e,n),t.rotate(M(o)),t.translate(-e,-n))}function D(t,e){if(e&&e.borderWidth)return t.lineCap=e.borderCapStyle,t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle,t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,!0}function $(t,e){t.shadowColor=e.backgroundShadowColor,t.shadowBlur=e.shadowBlur,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY}function ke(t,e){const n=e.content;if(le(n))return{width:A(n.width,e.width),height:A(n.height,e.height)};const o=e.font,s=T(o)?o.map(l=>se(l)):[se(o)],r=e.textStrokeWidth,i=T(n)?n:[n],a=i.join()+Sn(s)+r+(t._measureText?"-spriting":"");return ue.has(a)||ue.set(a,Pn(t,i,s,r)),ue.get(a)}function bt(t,e,n){const{x:o,y:s,width:r,height:i}=e;t.save(),$(t,n);const a=D(t,n);t.fillStyle=n.backgroundColor,t.beginPath(),Ft(t,{x:o,y:s,w:r,h:i,radius:bn(Ut(n.borderRadius),0,Math.min(r,i)/2)}),t.closePath(),t.fill(),a&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}function Cn(t,e,n){const o=n.content;if(le(o)){t.save(),t.globalAlpha=In(n.opacity,o.style.opacity),t.drawImage(o,e.x,e.y,e.width,e.height),t.restore();return}const s=T(o)?o:[o],r=n.font,i=T(r)?r.map(u=>se(u)):[se(r)],a=n.color,l=T(a)?a:[a],d=wn(e,n),c=e.y+n.textStrokeWidth/2;t.save(),t.textBaseline="middle",t.textAlign=n.textAlign,Mn(t,n)&&An(t,{x:d,y:c},s,i),Dn(t,{x:d,y:c},s,{fonts:i,colors:l}),t.restore()}function Mn(t,e){if(e.textStrokeWidth>0)return t.lineJoin="round",t.miterLimit=2,t.lineWidth=e.textStrokeWidth,t.strokeStyle=e.textStrokeColor,!0}function _n(t,e,n,o){const{radius:s,options:r}=e,i=r.pointStyle,a=r.rotation;let l=(a||0)*it;if(le(i)){t.save(),t.translate(n,o),t.rotate(l),t.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),t.restore();return}vn(s)||kn(t,{x:n,y:o,radius:s,rotation:a,style:i,rad:l})}function kn(t,{x:e,y:n,radius:o,rotation:s,style:r,rad:i}){let a,l,d,c;switch(t.beginPath(),r){default:t.arc(e,n,o,0,qt),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(i)*o,n-Math.cos(i)*o),i+=je,t.lineTo(e+Math.sin(i)*o,n-Math.cos(i)*o),i+=je,t.lineTo(e+Math.sin(i)*o,n-Math.cos(i)*o),t.closePath();break;case"rectRounded":c=o*.516,d=o-c,a=Math.cos(i+V)*d,l=Math.sin(i+V)*d,t.arc(e-a,n-l,c,i-x,i-ee),t.arc(e+l,n-a,c,i-ee,i),t.arc(e+a,n+l,c,i,i+ee),t.arc(e-l,n+a,c,i+ee,i+x),t.closePath();break;case"rect":if(!s){d=Math.SQRT1_2*o,t.rect(e-d,n-d,2*d,2*d);break}i+=V;case"rectRot":a=Math.cos(i)*o,l=Math.sin(i)*o,t.moveTo(e-a,n-l),t.lineTo(e+l,n-a),t.lineTo(e+a,n+l),t.lineTo(e-l,n+a),t.closePath();break;case"crossRot":i+=V;case"cross":a=Math.cos(i)*o,l=Math.sin(i)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a);break;case"star":a=Math.cos(i)*o,l=Math.sin(i)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a),i+=V,a=Math.cos(i)*o,l=Math.sin(i)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a);break;case"line":a=Math.cos(i)*o,l=Math.sin(i)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l);break;case"dash":t.moveTo(e,n),t.lineTo(e+Math.cos(i)*o,n+Math.sin(i)*o);break}t.fill()}function Pn(t,e,n,o){t.save();const s=e.length;let r=0,i=o;for(let a=0;a<s;a++){const l=n[Math.min(a,n.length-1)];t.font=l.string;const d=e[a];r=Math.max(r,t.measureText(d).width+o),i+=l.lineHeight}return t.restore(),{width:r,height:i}}function An(t,{x:e,y:n},o,s){t.beginPath();let r=0;o.forEach(function(i,a){const l=s[Math.min(a,s.length-1)],d=l.lineHeight;t.font=l.string,t.strokeText(i,e,n+d/2+r),r+=d}),t.stroke()}function Dn(t,{x:e,y:n},o,{fonts:s,colors:r}){let i=0;o.forEach(function(a,l){const d=r[Math.min(l,r.length-1)],c=s[Math.min(l,s.length-1)],u=c.lineHeight;t.beginPath(),t.font=c.string,t.fillStyle=d,t.fillText(a,e,n+u/2+i),i+=u,t.fill()})}function In(t,e){const n=Te(t)?t:e;return Te(n)?ae(n,0,1):1}const We={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function X(t,e,n){return e=typeof e=="number"?e:t.parse(e),rt(e)?t.getPixelForValue(e):n}function E(t,e,n){const o=e[n];if(o||n==="scaleID")return o;const s=n.charAt(0),r=Object.values(t).filter(i=>i.axis&&i.axis===s);return r.length?r[0].id:s}function pt(t,e){if(t){const n=t.options.reverse,o=X(t,e.min,n?e.end:e.start),s=X(t,e.max,n?e.start:e.end);return{start:o,end:s}}}function yt(t,e){const{chartArea:n,scales:o}=t,s=o[E(o,e,"xScaleID")],r=o[E(o,e,"yScaleID")];let i=n.width/2,a=n.height/2;return s&&(i=X(s,e.xValue,s.left+s.width/2)),r&&(a=X(r,e.yValue,r.top+r.height/2)),{x:i,y:a}}function Pe(t,e){const n=t.scales,o=n[E(n,e,"xScaleID")],s=n[E(n,e,"yScaleID")];if(!o&&!s)return{};let{left:r,right:i}=o||t.chartArea,{top:a,bottom:l}=s||t.chartArea;const d=Ye(o,{min:e.xMin,max:e.xMax,start:r,end:i});r=d.start,i=d.end;const c=Ye(s,{min:e.yMin,max:e.yMax,start:l,end:a});return a=c.start,l=c.end,{x:r,y:a,x2:i,y2:l,width:i-r,height:l-a,centerX:r+(i-r)/2,centerY:a+(l-a)/2}}function mt(t,e){if(!ft(e)){const n=Pe(t,e);let o=e.radius;(!o||isNaN(o))&&(o=Math.min(n.width,n.height)/2,e.radius=o);const s=o*2,r=n.centerX+e.xAdjust,i=n.centerY+e.yAdjust;return{x:r-o,y:i-o,x2:r+o,y2:i+o,centerX:r,centerY:i,width:s,height:s,radius:o}}return jn(t,e)}function Rn(t,e){const{scales:n,chartArea:o}=t,s=n[e.scaleID],r={x:o.left,y:o.top,x2:o.right,y2:o.bottom};return s?Tn(s,r,e):En(n,r,e),r}function wt(t,e){const n=Pe(t,e);return n.initProperties=G(t,n,e),n.elements=[{type:"label",optionScope:"label",properties:Yn(t,n,e),initProperties:n.initProperties}],n}function jn(t,e){const n=yt(t,e),o=e.radius*2;return{x:n.x-e.radius+e.xAdjust,y:n.y-e.radius+e.yAdjust,x2:n.x+e.radius+e.xAdjust,y2:n.y+e.radius+e.yAdjust,centerX:n.x+e.xAdjust,centerY:n.y+e.yAdjust,radius:e.radius,width:o,height:o}}function Ye(t,e){const n=pt(t,e)||e;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function Tn(t,e,n){const o=X(t,n.value,NaN),s=X(t,n.endValue,o);t.isHorizontal()?(e.x=o,e.x2=s):(e.y=o,e.y2=s)}function En(t,e,n){for(const o of Object.keys(We)){const s=t[E(t,n,o)];if(s){const{min:r,max:i,start:a,end:l,startProp:d,endProp:c}=We[o],u=pt(s,{min:n[r],max:n[i],start:s[a],end:s[l]});e[d]=u.start,e[c]=u.end}}}function On({properties:t,options:e},n,o,s){const{x:r,x2:i,width:a}=t;return xt({start:r,end:i,size:a,borderWidth:e.borderWidth},{position:o.x,padding:{start:s.left,end:s.right},adjust:e.label.xAdjust,size:n.width})}function Wn({properties:t,options:e},n,o,s){const{y:r,y2:i,height:a}=t;return xt({start:r,end:i,size:a,borderWidth:e.borderWidth},{position:o.y,padding:{start:s.top,end:s.bottom},adjust:e.label.yAdjust,size:n.height})}function xt(t,e){const{start:n,end:o,borderWidth:s}=t,{position:r,padding:{start:i,end:a},adjust:l}=e,d=o-s-n-i-a-e.size;return n+s/2+l+Ce(d,r)}function Yn(t,e,n){const o=n.label;o.backgroundColor="transparent",o.callout.display=!1;const s=Me(o.position),r=ie(o.padding),i=ke(t.ctx,o),a=On({properties:e,options:n},i,s,r),l=Wn({properties:e,options:n},i,s,r),d=i.width+r.width,c=i.height+r.height;return{x:a,y:l,x2:a+d,y2:l+c,width:d,height:c,centerX:a+d/2,centerY:l+c/2,rotation:o.rotation}}function O(t,e,n){const o=Math.cos(n),s=Math.sin(n),r=e.x,i=e.y;return{x:r+o*(t.x-r)-s*(t.y-i),y:i+s*(t.x-r)+o*(t.y-i)}}const fe=["enter","leave"],Ae=fe.concat("click");function Ln(t,e,n){e.listened=ht(n,Ae,e.listeners),e.moveListened=!1,e._getElements=Se,fe.forEach(o=>{L(n[o])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(o=>{!e.listened&&L(o.click)&&(e.listened=!0),e.moveListened||fe.forEach(s=>{L(o[s])&&(e.listened=!0,e.moveListened=!0)})})}function Xn(t,e,n){if(t.listened)switch(e.type){case"mousemove":case"mouseout":return Bn(t,e,n);case"click":return zn(t,e,n)}}function Bn(t,e,n){if(!t.moveListened)return;let o;e.type==="mousemove"?o=Se(t,e,n.interaction):o=[];const s=t.hovered;t.hovered=o;const r={state:t,event:e};let i=Le(r,"leave",s,o);return Le(r,"enter",o,s)||i}function Le({state:t,event:e},n,o,s){let r;for(const i of o)s.indexOf(i)<0&&(r=vt(i.options[n]||t.listeners[n],i,e)||r);return r}function zn(t,e,n){const o=t.listeners,s=Se(t,e,n.interaction);let r;for(const i of s)r=vt(i.options.click||o.click,i,e)||r;return r}function vt(t,e,n){return we(t,[e.$context,n])===!0}const re=["afterDraw","beforeDraw"];function $n(t,e,n){const o=e.visibleElements;e.hooked=ht(n,re,e.hooks),e.hooked||o.forEach(s=>{e.hooked||re.forEach(r=>{L(s.options[r])&&(e.hooked=!0)})})}function Xe(t,e,n){if(t.hooked){const o=e.options[n]||t.hooks[n];return we(o,[e.$context])}}function Hn(t,e,n){const o=qn(t.scales,e,n);let s=Be(e,o,"min","suggestedMin");s=Be(e,o,"max","suggestedMax")||s,s&&L(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function Nn(t,e){for(const n of t)Fn(n,e)}function Be(t,e,n,o){if(rt(e[n])&&!Vn(t.options,n,o)){const s=t[n]!==e[n];return t[n]=e[n],s}}function Vn(t,e,n){return C(t[e])||C(t[n])}function Fn(t,e){for(const n of["scaleID","xScaleID","yScaleID"]){const o=E(e,t,n);o&&!e[o]&&Un(t,n)&&console.warn(`No scale found with id '${o}' for annotation '${t.id}'`)}}function Un(t,e){if(e==="scaleID")return!0;const n=e.charAt(0);for(const o of["Min","Max","Value"])if(C(t[n+o]))return!0;return!1}function qn(t,e,n){const o=e.axis,s=e.id,r=o+"ScaleID",i={min:q(e.min,Number.NEGATIVE_INFINITY),max:q(e.max,Number.POSITIVE_INFINITY)};for(const a of n)a.scaleID===s?ze(a,e,["value","endValue"],i):E(t,a,r)===s&&ze(a,e,[o+"Min",o+"Max",o+"Value"],i);return i}function ze(t,e,n,o){for(const s of n){const r=t[s];if(C(r)){const i=e.parse(r);o.min=Math.min(o.min,i),o.max=Math.max(o.max,i)}}}class H extends B{inRange(e,n,o,s){const{x:r,y:i}=O({x:e,y:n},this.getCenterPoint(s),M(-this.options.rotation));return lt({x:r,y:i},this.getProps(["x","y","x2","y2"],s),o,this.options.borderWidth)}getCenterPoint(e){return z(this,e)}draw(e){e.save(),_e(e,this.getCenterPoint(),this.options.rotation),bt(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return wt(e,n)}}H.id="boxAnnotation";H.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};H.defaultRoutes={borderColor:"color",backgroundColor:"color"};H.descriptors={label:{_fallback:!0}};const St=["left","bottom","top","right"];class K extends B{inRange(e,n,o,s){const{x:r,y:i}=O({x:e,y:n},this.getCenterPoint(s),M(-this.rotation));return lt({x:r,y:i},this.getProps(["x","y","x2","y2"],s),o,this.options.borderWidth)}getCenterPoint(e){return z(this,e)}draw(e){const n=this.options,o=!C(this._visible)||this._visible;!n.display||!n.content||!o||(e.save(),_e(e,this.getCenterPoint(),this.rotation),Gn(e,this),bt(e,this,n),Cn(e,oo(this),n),e.restore())}resolveElementProperties(e,n){let o;if(ft(n))o=yt(e,n);else{const{centerX:a,centerY:l}=Pe(e,n);o={x:a,y:l}}const s=ie(n.padding),r=ke(e.ctx,n),i=Jn(o,r,n,s);return{initProperties:G(e,i,n),pointX:o.x,pointY:o.y,...i,rotation:n.rotation}}}K.id="labelAnnotation";K.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};K.defaultRoutes={borderColor:"color"};function Jn(t,e,n,o){const s=e.width+o.width+n.borderWidth,r=e.height+o.height+n.borderWidth,i=Me(n.position,"center"),a=$e(t.x,s,n.xAdjust,i.x),l=$e(t.y,r,n.yAdjust,i.y);return{x:a,y:l,x2:a+s,y2:l+r,width:s,height:r,centerX:a+s/2,centerY:l+r/2}}function $e(t,e,n=0,o){return t-Ce(e,o)+n}function Gn(t,e){const{pointX:n,pointY:o,options:s}=e,r=s.callout,i=r&&r.display&&to(e,r);if(!i||so(e,r,i))return;if(t.save(),t.beginPath(),!D(t,r))return t.restore();const{separatorStart:l,separatorEnd:d}=Kn(e,i),{sideStart:c,sideEnd:u}=Zn(e,i,l);(r.margin>0||s.borderWidth===0)&&(t.moveTo(l.x,l.y),t.lineTo(d.x,d.y)),t.moveTo(c.x,c.y),t.lineTo(u.x,u.y);const f=O({x:n,y:o},e.getCenterPoint(),M(-e.rotation));t.lineTo(f.x,f.y),t.stroke(),t.restore()}function Kn(t,e){const{x:n,y:o,x2:s,y2:r}=t,i=Qn(t,e);let a,l;return e==="left"||e==="right"?(a={x:n+i,y:o},l={x:a.x,y:r}):(a={x:n,y:o+i},l={x:s,y:a.y}),{separatorStart:a,separatorEnd:l}}function Qn(t,e){const{width:n,height:o,options:s}=t,r=s.callout.margin+s.borderWidth/2;return e==="right"?n+r:e==="bottom"?o+r:-r}function Zn(t,e,n){const{y:o,width:s,height:r,options:i}=t,a=i.callout.start,l=eo(e,i.callout);let d,c;return e==="left"||e==="right"?(d={x:n.x,y:o+A(r,a)},c={x:d.x+l,y:d.y}):(d={x:n.x+A(s,a),y:n.y},c={x:d.x,y:d.y+l}),{sideStart:d,sideEnd:c}}function eo(t,e){const n=e.side;return t==="left"||t==="top"?-n:n}function to(t,e){const n=e.position;return St.includes(n)?n:no(t,e)}function no(t,e){const{x:n,y:o,x2:s,y2:r,width:i,height:a,pointX:l,pointY:d,centerX:c,centerY:u,rotation:f}=t,g={x:c,y:u},p=e.start,v=A(i,p),R=A(a,p),m=[n,n+v,n+v,s],b=[o+R,r,o,r],w=[];for(let y=0;y<4;y++){const N=O({x:m[y],y:b[y]},g,M(f));w.push({position:St[y],distance:xe(N,{x:l,y:d})})}return w.sort((y,N)=>y.distance-N.distance)[0].position}function oo({x:t,y:e,width:n,height:o,options:s}){const r=s.borderWidth/2,i=ie(s.padding);return{x:t+i.left+r,y:e+i.top+r,width:n-i.left-i.right-s.borderWidth,height:o-i.top-i.bottom-s.borderWidth}}function so(t,e,n){const{pointX:o,pointY:s}=t,r=e.margin;let i=o,a=s;return n==="left"?i+=r:n==="right"?i-=r:n==="top"?a+=r:n==="bottom"&&(a-=r),t.inRange(i,a)}const De=(t,e,n)=>({x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}),he=(t,e,n)=>De(e,n,Math.abs((t-e.y)/(n.y-e.y))).x,He=(t,e,n)=>De(e,n,Math.abs((t-e.x)/(n.x-e.x))).y,F=t=>t*t,ro=(t,e,{x:n,y:o,x2:s,y2:r},i)=>i==="y"?{start:Math.min(o,r),end:Math.max(o,r),value:e}:{start:Math.min(n,s),end:Math.max(n,s),value:t},Ne=(t,e,n,o)=>(1-o)*(1-o)*t+2*(1-o)*o*e+o*o*n,ge=(t,e,n,o)=>({x:Ne(t.x,e.x,n.x,o),y:Ne(t.y,e.y,n.y,o)}),Ve=(t,e,n,o)=>2*(1-o)*(e-t)+2*o*(n-e),Fe=(t,e,n,o)=>-Math.atan2(Ve(t.x,e.x,n.x,o),Ve(t.y,e.y,n.y,o))+.5*x;class Q extends B{inRange(e,n,o,s){const r=this.options.borderWidth/2;if(o!=="x"&&o!=="y"){const i={mouseX:e,mouseY:n},{path:a,ctx:l}=this;if(a){D(l,this.options);const{chart:c}=this.$context,u=e*c.currentDevicePixelRatio,f=n*c.currentDevicePixelRatio,g=l.isPointInStroke(a,u,f)||be(this,i,s);return l.restore(),g}const d=F(r);return co(this,i,d,s)||be(this,i,s)}return io(this,{mouseX:e,mouseY:n},o,{hBorderWidth:r,useFinalPosition:s})}getCenterPoint(e){return z(this,e)}draw(e){const{x:n,y:o,x2:s,y2:r,cp:i,options:a}=this;if(e.save(),!D(e,a))return e.restore();$(e,a);const l=Math.sqrt(Math.pow(s-n,2)+Math.pow(r-o,2));if(a.curve&&i)return mo(e,this,i,l),e.restore();const{startOpts:d,endOpts:c,startAdjust:u,endAdjust:f}=Ct(this),g=Math.atan2(r-o,s-n);e.translate(n,o),e.rotate(g),e.beginPath(),e.moveTo(0+u,0),e.lineTo(l-f,0),e.shadowColor=a.borderShadowColor,e.stroke(),pe(e,0,u,d),pe(e,l,-f,c),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){const o=Rn(e,n),{x:s,y:r,x2:i,y2:a}=o,l=ao(o,e.chartArea),d=l?lo({x:s,y:r},{x:i,y:a},e.chartArea):{x:s,y:r,x2:i,y2:a,width:Math.abs(i-s),height:Math.abs(a-r)};if(d.centerX=(i+s)/2,d.centerY=(a+r)/2,d.initProperties=G(e,d,n),n.curve){const u={x:d.x,y:d.y},f={x:d.x2,y:d.y2};d.cp=yo(d,n,xe(u,f))}const c=uo(e,d,n.label);return c._visible=l,d.elements=[{type:"label",optionScope:"label",properties:c,initProperties:d.initProperties}],d}}Q.id="lineAnnotation";const Ue={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};Q.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Ue),fill:!1,length:12,start:Object.assign({},Ue),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},K.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Q.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};Q.defaultRoutes={borderColor:"color"};function io(t,{mouseX:e,mouseY:n},o,{hBorderWidth:s,useFinalPosition:r}){const i=ro(e,n,t.getProps(["x","y","x2","y2"],r),o);return i.value>=i.start-s&&i.value<=i.end+s||be(t,{mouseX:e,mouseY:n},r,o)}function ao({x:t,y:e,x2:n,y2:o},{top:s,right:r,bottom:i,left:a}){return!(t<a&&n<a||t>r&&n>r||e<s&&o<s||e>i&&o>i)}function qe({x:t,y:e},n,{top:o,right:s,bottom:r,left:i}){return t<i&&(e=He(i,{x:t,y:e},n),t=i),t>s&&(e=He(s,{x:t,y:e},n),t=s),e<o&&(t=he(o,{x:t,y:e},n),e=o),e>r&&(t=he(r,{x:t,y:e},n),e=r),{x:t,y:e}}function lo(t,e,n){const{x:o,y:s}=qe(t,e,n),{x:r,y:i}=qe(e,t,n);return{x:o,y:s,x2:r,y2:i,width:Math.abs(r-o),height:Math.abs(i-s)}}function co(t,{mouseX:e,mouseY:n},o=j,s){const{x:r,y:i,x2:a,y2:l}=t.getProps(["x","y","x2","y2"],s),d=a-r,c=l-i,u=F(d)+F(c),f=u===0?-1:((e-r)*d+(n-i)*c)/u;let g,p;return f<0?(g=r,p=i):f>1?(g=a,p=l):(g=r+f*d,p=i+f*c),F(e-g)+F(n-p)<=o}function be(t,{mouseX:e,mouseY:n},o,s){const r=t.label;return r.options.display&&r.inRange(e,n,s,o)}function uo(t,e,n){const o=n.borderWidth,s=ie(n.padding),r=ke(t.ctx,n),i=r.width+s.width+o,a=r.height+s.height+o;return ho(e,n,{width:i,height:a,padding:s},t.chartArea)}function fo(t){const{x:e,y:n,x2:o,y2:s}=t,r=Math.atan2(s-n,o-e);return r>x/2?r-x:r<x/-2?r+x:r}function ho(t,e,n,o){const{width:s,height:r,padding:i}=n,{xAdjust:a,yAdjust:l}=e,d={x:t.x,y:t.y},c={x:t.x2,y:t.y2},u=e.rotation==="auto"?fo(t):M(e.rotation),f=go(s,r,u),g=bo(t,e,{labelSize:f,padding:i},o),p=t.cp?ge(d,t.cp,c,g):De(d,c,g),v={size:f.w,min:o.left,max:o.right,padding:i.left},R={size:f.h,min:o.top,max:o.bottom,padding:i.top},m=Ge(p.x,v)+a,b=Ge(p.y,R)+l;return{x:m-s/2,y:b-r/2,x2:m+s/2,y2:b+r/2,centerX:m,centerY:b,pointX:p.x,pointY:p.y,width:s,height:r,rotation:Nt(u)}}function go(t,e,n){const o=Math.cos(n),s=Math.sin(n);return{w:Math.abs(t*o)+Math.abs(e*s),h:Math.abs(t*s)+Math.abs(e*o)}}function bo(t,e,n,o){let s;const r=po(t,o);return e.position==="start"?s=Je({w:t.x2-t.x,h:t.y2-t.y},n,e,r):e.position==="end"?s=1-Je({w:t.x-t.x2,h:t.y-t.y2},n,e,r):s=Ce(1,e.position),s}function Je(t,e,n,o){const{labelSize:s,padding:r}=e,i=t.w*o.dx,a=t.h*o.dy,l=i>0&&(s.w/2+r.left-o.x)/i,d=a>0&&(s.h/2+r.top-o.y)/a;return ae(Math.max(l,d),0,.25)}function po(t,e){const{x:n,x2:o,y:s,y2:r}=t,i=Math.min(s,r)-e.top,a=Math.min(n,o)-e.left,l=e.bottom-Math.max(s,r),d=e.right-Math.max(n,o);return{x:Math.min(a,d),y:Math.min(i,l),dx:a<=d?1:-1,dy:i<=l?1:-1}}function Ge(t,e){const{size:n,min:o,max:s,padding:r}=e,i=n/2;return n>s-o?(s+o)/2:(o>=t-r-i&&(t=o+r+i),s<=t+r+i&&(t=s-r-i),t)}function Ct(t){const e=t.options,n=e.arrowHeads&&e.arrowHeads.start,o=e.arrowHeads&&e.arrowHeads.end;return{startOpts:n,endOpts:o,startAdjust:Ke(t,n),endAdjust:Ke(t,o)}}function Ke(t,e){if(!e||!e.display)return 0;const{length:n,width:o}=e,s=t.options.borderWidth/2,r={x:n,y:o+s};return Math.abs(he(0,r,{x:0,y:s}))}function pe(t,e,n,o){if(!o||!o.display)return;const{length:s,width:r,fill:i,backgroundColor:a,borderColor:l}=o,d=Math.abs(e-s)+n;t.beginPath(),$(t,o),D(t,o),t.moveTo(d,-r),t.lineTo(e+n,0),t.lineTo(d,r),i===!0?(t.fillStyle=a||l,t.closePath(),t.fill(),t.shadowColor="transparent"):t.shadowColor=o.borderShadowColor,t.stroke()}function yo(t,e,n){const{x:o,y:s,x2:r,y2:i,centerX:a,centerY:l}=t,d=Math.atan2(i-s,r-o),c=Me(e.controlPoint,0),u={x:a+A(n,c.x,!1),y:l+A(n,c.y,!1)};return O(u,{x:a,y:l},d)}function Qe(t,{x:e,y:n},{angle:o,adjust:s},r){!r||!r.display||(t.save(),t.translate(e,n),t.rotate(o),pe(t,0,-s,r),t.restore())}function mo(t,e,n,o){const{x:s,y:r,x2:i,y2:a,options:l}=e,{startOpts:d,endOpts:c,startAdjust:u,endAdjust:f}=Ct(e),g={x:s,y:r},p={x:i,y:a},v=Fe(g,n,p,0),R=Fe(g,n,p,1)-x,m=ge(g,n,p,u/o),b=ge(g,n,p,1-f/o),w=new Path2D;t.beginPath(),w.moveTo(m.x,m.y),w.quadraticCurveTo(n.x,n.y,b.x,b.y),t.shadowColor=l.borderShadowColor,t.stroke(w),e.path=w,e.ctx=t,Qe(t,m,{angle:v,adjust:u},d),Qe(t,b,{angle:R,adjust:f},c)}class Z extends B{inRange(e,n,o,s){const r=this.options.rotation,i=this.options.borderWidth;if(o!=="x"&&o!=="y")return wo({x:e,y:n},this.getProps(["width","height","centerX","centerY"],s),r,i);const{x:a,y:l,x2:d,y2:c}=this.getProps(["x","y","x2","y2"],s),u=i/2,f=o==="y"?{start:l,end:c}:{start:a,end:d},g=O({x:e,y:n},this.getCenterPoint(s),M(-r));return g[o]>=f.start-u-j&&g[o]<=f.end+u+j}getCenterPoint(e){return z(this,e)}draw(e){const{width:n,height:o,centerX:s,centerY:r,options:i}=this;e.save(),_e(e,this.getCenterPoint(),i.rotation),$(e,this.options),e.beginPath(),e.fillStyle=i.backgroundColor;const a=D(e,i);e.ellipse(s,r,o/2,n/2,x/2,0,2*x),e.fill(),a&&(e.shadowColor=i.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return wt(e,n)}}Z.id="ellipseAnnotation";Z.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:Object.assign({},H.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Z.defaultRoutes={borderColor:"color",backgroundColor:"color"};Z.descriptors={label:{_fallback:!0}};function wo(t,e,n,o){const{width:s,height:r,centerX:i,centerY:a}=e,l=s/2,d=r/2;if(l<=0||d<=0)return!1;const c=M(n||0),u=o/2||0,f=Math.cos(c),g=Math.sin(c),p=Math.pow(f*(t.x-i)+g*(t.y-a),2),v=Math.pow(g*(t.x-i)-f*(t.y-a),2);return p/Math.pow(l+u,2)+v/Math.pow(d+u,2)<=1.0001}class de extends B{inRange(e,n,o,s){const{x:r,y:i,x2:a,y2:l,width:d}=this.getProps(["x","y","x2","y2","width"],s),c=this.options.borderWidth;if(o!=="x"&&o!=="y")return pn({x:e,y:n},this.getCenterPoint(s),d/2,c);const u=c/2,f=o==="y"?{start:i,end:l,value:n}:{start:r,end:a,value:e};return f.value>=f.start-u&&f.value<=f.end+u}getCenterPoint(e){return z(this,e)}draw(e){const n=this.options,o=n.borderWidth;if(n.radius<.1)return;e.save(),e.fillStyle=n.backgroundColor,$(e,n);const s=D(e,n);_n(e,this,this.centerX,this.centerY),s&&!le(n.pointStyle)&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore(),n.borderWidth=o}resolveElementProperties(e,n){const o=mt(e,n);return o.initProperties=G(e,o,n),o}}de.id="pointAnnotation";de.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};de.defaultRoutes={borderColor:"color",backgroundColor:"color"};class ce extends B{inRange(e,n,o,s){if(o!=="x"&&o!=="y")return this.options.radius>=.1&&this.elements.length>1&&vo(this.elements,e,n,s);const r=O({x:e,y:n},this.getCenterPoint(s),M(-this.options.rotation)),i=this.elements.map(d=>o==="y"?d.bY:d.bX),a=Math.min(...i),l=Math.max(...i);return r[o]>=a&&r[o]<=l}getCenterPoint(e){return z(this,e)}draw(e){const{elements:n,options:o}=this;e.save(),e.beginPath(),e.fillStyle=o.backgroundColor,$(e,o);const s=D(e,o);let r=!0;for(const i of n)r?(e.moveTo(i.x,i.y),r=!1):e.lineTo(i.x,i.y);e.closePath(),e.fill(),s&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,n){const o=mt(e,n),{sides:s,rotation:r}=n,i=[],a=2*x/s;let l=r*it;for(let d=0;d<s;d++,l+=a){const c=xo(o,n,l);c.initProperties=G(e,o,n),i.push(c)}return o.elements=i,o}}ce.id="polygonAnnotation";ce.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};ce.defaultRoutes={borderColor:"color",backgroundColor:"color"};function xo({centerX:t,centerY:e},{radius:n,borderWidth:o},s){const r=o/2,i=Math.sin(s),a=Math.cos(s),l={x:t+i*n,y:e-a*n};return{type:"point",optionScope:"point",properties:{x:l.x,y:l.y,centerX:l.x,centerY:l.y,bX:t+i*(n+r),bY:e-a*(n+r)}}}function vo(t,e,n,o){let s=!1,r=t[t.length-1].getProps(["bX","bY"],o);for(const i of t){const a=i.getProps(["bX","bY"],o);a.bY>n!=r.bY>n&&e<(r.bX-a.bX)*(n-a.bY)/(r.bY-a.bY)+a.bX&&(s=!s),r=a}return s}const P={box:H,ellipse:Z,label:K,line:Q,point:de,polygon:ce};Object.keys(P).forEach(t=>{zt.describe(`elements.${P[t].id}`,{_fallback:"plugins.annotation.common"})});const So={update:Object.assign},Co=Ae.concat(re),Ze=(t,e)=>J(e)?me(t,e):t,ye=t=>t==="color"||t==="font";function Ie(t="line"){return P[t]?t:(console.warn(`Unknown annotation type: '${t}', defaulting to 'line'`),"line")}function Mo(t,e,n,o){const s=ko(t,n.animations,o),r=e.annotations,i=Do(e.elements,r);for(let a=0;a<r.length;a++){const l=r[a],d=Mt(i,a,l.type),c=l.setContext(Ao(t,d,l)),u=d.resolveElementProperties(t,c);u.skip=_o(u),"elements"in u&&(Po(d,u.elements,c,s),delete u.elements),C(d.x)||Object.assign(d,u),Object.assign(d,u.initProperties),u.options=_t(c),s.update(d,u)}}function _o(t){return isNaN(t.x)||isNaN(t.y)}function ko(t,e,n){return n==="reset"||n==="none"||n==="resize"?So:new Vt(t,e)}function Po(t,e,n,o){const s=t.elements||(t.elements=[]);s.length=e.length;for(let r=0;r<e.length;r++){const i=e[r],a=i.properties,l=Mt(s,r,i.type,i.initProperties),d=n[i.optionScope].override(i);a.options=_t(d),o.update(l,a)}}function Mt(t,e,n,o){const s=P[Ie(n)];let r=t[e];return(!r||!(r instanceof s))&&(r=t[e]=new s,Object.assign(r,o)),r}function _t(t){const e=P[Ie(t.type)],n={};n.id=t.id,n.type=t.type,n.drawTime=t.drawTime,Object.assign(n,me(t,e.defaults),me(t,e.defaultRoutes));for(const o of Co)n[o]=t[o];return n}function me(t,e){const n={};for(const o of Object.keys(e)){const s=e[o],r=t[o];ye(o)&&T(r)?n[o]=r.map(i=>Ze(i,s)):n[o]=Ze(r,s)}return n}function Ao(t,e,n){return e.$context||(e.$context=Object.assign(Object.create(t.getContext()),{element:e,id:n.id,type:"annotation"}))}function Do(t,e){const n=e.length,o=t.length;if(o<n){const s=n-o;t.splice(o,0,...new Array(s))}else o>n&&t.splice(n,o-n);return t}var Io="3.0.1";const k=new Map,Ro=Ae.concat(re);var jo={id:"annotation",version:Io,beforeRegister(){yn("chart.js","4.0",U.version)},afterRegister(){U.register(P)},afterUnregister(){U.unregister(P)},beforeInit(t){k.set(t,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(t,e,n){const o=k.get(t),s=o.annotations=[];let r=n.annotations;J(r)?Object.keys(r).forEach(i=>{const a=r[i];J(a)&&(a.id=i,s.push(a))}):T(r)&&s.push(...r),Nn(s,t.scales)},afterDataLimits(t,e){const n=k.get(t);Hn(t,e.scale,n.annotations.filter(o=>o.display&&o.adjustScaleRange))},afterUpdate(t,e,n){const o=k.get(t);Ln(t,o,n),Mo(t,o,n,e.mode),o.visibleElements=o.elements.filter(s=>!s.skip&&s.options.display),$n(t,o,n)},beforeDatasetsDraw(t,e,n){ne(t,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(t,e,n){ne(t,"afterDatasetsDraw",n.clip)},beforeDraw(t,e,n){ne(t,"beforeDraw",n.clip)},afterDraw(t,e,n){ne(t,"afterDraw",n.clip)},beforeEvent(t,e,n){const o=k.get(t);Xn(o,e.event,n)&&(e.changed=!0)},afterDestroy(t){k.delete(t)},_getState(t){return k.get(t)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:t=>!Ro.includes(t)&&t!=="init",annotations:{_allKeys:!1,_fallback:(t,e)=>`elements.${P[Ie(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:ye,_fallback:!0},_indexable:ye}},additionalOptionScopes:[""]};function ne(t,e,n){const{ctx:o,chartArea:s}=t,r=k.get(t);n&&$t(o,s);const i=To(r.visibleElements,e).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of i)Eo(o,s,r,a);n&&Ht(o)}function To(t,e){const n=[];for(const o of t)if(o.options.drawTime===e&&n.push({element:o,main:!0}),o.elements&&o.elements.length)for(const s of o.elements)s.options.display&&s.options.drawTime===e&&n.push({element:s});return n}function Eo(t,e,n,o){const s=o.element;o.main?(Xe(n,s,"beforeDraw"),s.draw(t,e),Xe(n,s,"afterDraw")):s.draw(t,e)}const kt=t=>(nt("data-v-83d0c4b4"),t=t(),ot(),t),Oo={key:0,class:"w-[80%] h-full bg-white rounded-[10px] py-[10px] pl-[30px] pr-[20px] relative"},Wo=kt(()=>h("img",{src:dn,alt:"happy",class:"absolute top-[10px] left-[10px] w-[20px]"},null,-1)),Yo=kt(()=>h("img",{src:cn,alt:"sad",class:"absolute bottom-[10px] left-[10px] w-[20px]"},null,-1)),Lo=et({__name:"LineChart",props:{data:{}},setup(t){const e=t,n=S(null);let o=null;const s={type:"line",data:{labels:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],datasets:[{data:e.data,borderColor:"#855CF8",backgroundColor:"rgba(91, 60, 255, 0.2)",pointBackgroundColor:"#855CF8",pointBorderColor:"#fff",pointRadius:6,pointHoverRadius:7,borderWidth:1,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1},scales:{x:{grid:{display:!1},ticks:{color:"#855CF8"}},y:{suggestedMin:-31,suggestedMax:100,grid:{display:!1},ticks:{callback:r=>r===0?"0":"",color:"black"}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#855CF8",callbacks:{label:r=>`${r.raw}점`,title:()=>""},displayColors:!1,yAlign:"bottom"},annotation:{annotations:{yLine:{type:"line",scaleID:"y",value:"0",borderWidth:1,label:{content:"y = 0",enabled:!0,position:"end"}}}}}}};return At(()=>{U.register(...Jt,jo),o=new U(n.value,s)}),tt(()=>e.data,r=>{o.data.datasets[0].data=r,o==null||o.update()},{deep:!0}),(r,i)=>e.data?(Y(),W("div",Oo,[h("canvas",{ref_key:"chartCanvas",ref:n},null,512),Wo,Yo])):Dt("",!0)}}),Xo=st(Lo,[["__scopeId","data-v-83d0c4b4"]]),I=t=>(nt("data-v-c24b35cb"),t=t(),ot(),t),Bo={class:"flex flex-col gap-[30px]"},zo={class:"w-full flex items-end justify-between"},$o=I(()=>h("h1",{class:"text-4xl-bold mb-[10px]"},"월간 리포트",-1)),Ho=I(()=>h("img",{src:at,class:"w-[40px]"},null,-1)),No=[Ho],Vo=I(()=>h("img",{src:at,class:"w-[40px] -scale-x-100"},null,-1)),Fo=[Vo],Uo={key:0,class:"w-full h-full flex items-center justify-center"},qo=I(()=>h("p",{class:"text-lg-bold text-[#888888] animate-bounce"},"분석 중 입니다...",-1)),Jo=[qo],Go={key:1,class:"flex flex-col gap-[30px]"},Ko={class:"flex gap-[20px] h-[300px]"},Qo={class:"w-[35%] boxs gap-[10px]"},Zo={class:"text-lg-bold"},es=I(()=>h("p",{class:"text-[#607D8B]"},"어떤 감정을 느꼈는 지 한 눈에 확인하세요!",-1)),ts={class:"h-full flex flex-col justify-between"},ns=["src"],os={class:"w-full"},ss={class:"text-[#e6afb9]"},rs={class:"w-full boxs2 justify-between"},is=I(()=>h("label",{class:"text-lg-bold"},"아무개 님의 2024년 6월달 감정을 분석했어요",-1)),as={class:"w-full h-[80%] flex gap-[20px]"},ls=Ot('<div class="flex flex-col gap-[10px] justify-end" data-v-c24b35cb><div class="flex items-center gap-[5px]" data-v-c24b35cb><div class="text-center w-[45px] rounded-[40px] bg-white text-sm-semibold text-[#E9ACAC]" data-v-c24b35cb> + 1 </div><img class="w-[20px]" src="'+Gt+'" alt="Happy" data-v-c24b35cb><img class="w-[20px]" src="'+Kt+'" alt="Proud" data-v-c24b35cb><img class="w-[20px]" src="'+Qt+'" alt="Excited" data-v-c24b35cb><img class="w-[20px]" src="'+Zt+'" alt="Grateful" data-v-c24b35cb></div><div class="flex items-center gap-[5px]" data-v-c24b35cb><div class="text-center w-[45px] rounded-[40px] bg-white text-sm-semibold text-[#E9ACAC]" data-v-c24b35cb> 0 </div><img class="w-[20px]" src="'+en+'" alt="IDK" data-v-c24b35cb></div><div class="flex items-center gap-[5px]" data-v-c24b35cb><div class="text-center w-[45px] rounded-[40px] bg-white text-sm-semibold text-[#E9ACAC]" data-v-c24b35cb> - 1 </div><img class="w-[20px]" src="'+tn+'" alt="Sad" data-v-c24b35cb><img class="w-[20px]" src="'+nn+'" alt="Angry" data-v-c24b35cb><img class="w-[20px]" src="'+on+'" alt="Panicked" data-v-c24b35cb><img class="w-[20px]" src="'+sn+'" alt="Exhausted" data-v-c24b35cb></div></div>',1),ds=I(()=>h("p",{class:"text-sm-light"},"*사용자 기록을 점수로 변환하여 누적 합산한 결과입니다.",-1)),cs={class:"boxs w-full text-black gap-[10px]"},us=I(()=>h("p",{class:"w-full text-end"},"From. Mood Tracker",-1)),fs=et({__name:"ReportView",setup(t){const e=Wt(),n=Yt(),{addToast:o}=It(),s=S(null),r=S(!0),i=S(null),a=S([]),l=S([10,2,-10,0,20,13,8,0,0,0,1,0]),d=e.params.id,c=S(),u=S(),f=S({name:"name",email:"user@test.test"});Rt(async()=>{c.value=d.split("-")[0],u.value=d.split("-")[1],await Re.checkLogin()||(o({message:"로그인이 필요합니다."}),n.push("/login"));const w=await Re.getInformation();w||(o({message:"사용자 정보를 불러오는데 실패했습니다."}),n.push("/login")),f.value=w,await g()}),tt([c,u],async()=>{await g()});const g=async()=>{i.value=await Ee.getReport(f.value.name,`${c.value}-${u.value}`),l.value=await Ee.getMonthScore(f.value.name,`${c.value}-${u.value}`),a.value=await Xt.getEmotionCount(f.value.name,`${c.value}-${u.value}`),i.value?r.value=!0:(r.value=!1,await p())},p=async()=>{s.value=new Bt(v),s.value.generate("")},v=async b=>{i.value=b,await g()},R=()=>{const b=new Date(+c.value,+u.value-2);n.push(`/report/${b.getFullYear()}-${b.getMonth()+1}`),c.value=b.getFullYear().toString(),u.value=(b.getMonth()+1).toString()},m=()=>{const b=new Date(+c.value,+u.value+1);n.push(`/report/${b.getFullYear()}-${b.getMonth()+1}`),c.value=b.getFullYear().toString(),u.value=(b.getMonth()+1).toString()};return(b,w)=>(Y(),W("div",Bo,[h("section",zo,[h("div",null,[$o,h("p",null,_(c.value)+"년 "+_(u.value)+"월달의 감정 변화를 분석했어요. 나의 감정 패턴을 이해하고 되새겨보는 시간을 가져보세요. ",1)]),h("div",{class:"flex items-center gap-[10px]"},[h("button",{class:"btn-tertiary",onClick:R},No),h("button",{class:"btn-tertiary",onClick:m},Fo)])]),r.value?(Y(),W("section",Go,[h("article",Ko,[h("div",Qo,[h("label",Zo,_(c.value)+"년 "+_(u.value)+"월 감정 순위",1),es,h("div",ts,[(Y(!0),W(jt,null,Tt(a.value,(y,N)=>(Y(),W("div",{key:N,class:"flex items-center gap-[10px]"},[h("img",{class:"w-[40px]",src:"/icons/emotions/"+y.emotion+".svg",alt:"emotion"},null,8,ns),h("div",os,[h("div",{class:"bg-[#e6afb9] h-[20px] rounded-r-[10px] mt-[5px]",style:Lt({width:y.count/30*100+"%"})},null,4),h("p",ss,_(y.emotion)+"/"+_(y.count)+"회",1)])]))),128))])]),h("div",rs,[is,h("div",as,[Et(Xo,{data:l.value},null,8,["data"]),ls]),ds])]),h("article",cs,[h("p",null,"To. "+_(f.value.name),1),h("pre",null,_(i.value),1),us])])):(Y(),W("section",Uo,Jo))]))}}),ys=st(fs,[["__scopeId","data-v-c24b35cb"]]);export{ys as default};
