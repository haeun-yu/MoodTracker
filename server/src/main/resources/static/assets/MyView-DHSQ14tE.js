import{a as v}from"./auth-CNAqI4To.js";import{d as y,u as k,r as i,l as I,c as r,b as e,t as w,v as b,e as d,q as C,m as P,g as p,p as M,i as N,_ as V}from"./index-DUZP2jdm.js";import{_ as x}from"./CommonInput.vue_vue_type_script_setup_true_lang-uBEK0Lhr.js";const A="/images/sample-image.svg",D="/images/delete-account.svg",t=l=>(M("data-v-1ae11418"),l=l(),N(),l),S={class:"my-body"},j={class:"text-3xl-bold mb-[20px]"},R={class:"grid grid-cols-4"},B={class:"flex flex-col gap-[10px] pt-[20px]"},$={key:0,class:"function-box"},q={class:"w-[80%] flex flex-col gap-[30px] p-[20px]"},E=t(()=>e("img",{src:A,alt:"sample-image",class:"w-[180px] h-[180px] rounded-[10px] border object-cover"},null,-1)),L={class:"flex border-b-[1.5px] border-black"},T=t(()=>e("label",{class:"w-[30%] text-[26px]"},"Name",-1)),z={class:"w-[70%]] text-[26px] font-light"},U={class:"flex border-b-[1.5px] border-black"},Y=t(()=>e("label",{class:"w-[30%] text-[26px]"},"Email",-1)),F={class:"w-[70%]] text-[26px] font-light"},G={key:1,class:"function-box"},H={class:"w-full flex flex-col justify-between gap-[30px] p-[20px]"},J={class:"flex flex-col gap-[30px]"},K={class:"flex flex-col gap-[10px]"},O=t(()=>e("label",{class:"w-[50%] text-[20px]"},"Current Password",-1)),Q={class:"flex flex-col gap-[10px]"},W=t(()=>e("label",{class:"w-[50%] text-[20px]"},"New Password",-1)),X={class:"flex flex-col gap-[10px]"},Z=t(()=>e("label",{class:"w-[50%] text-[20px]"},"Confirm New Password",-1)),ee=t(()=>e("div",{class:"flex justify-end"},[e("button",{class:"btn-primary p-[10px]"},"Reset Password")],-1)),se={key:2,class:"function-box"},te={class:"w-full flex flex-col justify-between gap-[30px] p-[20px]"},oe={class:"flex flex-col gap-[10px]"},ae=t(()=>e("label",{class:"w-[50%] text-[20px]"},"Your Password",-1)),le={class:"flex items-end justify-between"},ce=t(()=>e("img",{src:D},null,-1)),ne=["disabled"],ie=y({__name:"MyView",setup(l){const u=P(),{addToast:c}=k(),o=i("My Information"),_=i({userName:"",email:"",password:""}),f=i(""),m=i(!1);I(async()=>{try{(await v.checkLogin()).userSeq!==1&&(c({message:"로그인이 필요합니다."}),u.push("/login"))}catch(s){c({message:"서버에 문제가 발생했습니다. 다시 시도해주세요."}),console.error(s)}try{const s=await v.getInformation();s&&(_.value=s)}catch(s){c({message:"사용자 정보를 가져올 수 없습니다. 다시 시도해주세요."}),console.error(s),u.back()}});const h=s=>{o.value=s},g=async()=>{if(!m.value)try{const s={password:f.value};await v.deleteAccount(s),u.push("/")}catch(s){c({message:"탈퇴에 실패했습니다. 다시 시도해주세요."}),console.error(s),m.value=!1}};return(s,a)=>(p(),r("div",S,[e("h1",j,w(o.value),1),e("section",R,[e("article",B,[e("button",{onClick:a[0]||(a[0]=n=>h("My Information")),class:b(["btn-menu",{active:o.value==="My Information"}])}," 내 정보 ",2),e("button",{onClick:a[1]||(a[1]=n=>h("Reset Password")),class:b(["btn-menu",{active:o.value==="Reset Password"}])}," 비밀번호 수정 ",2),e("button",{onClick:a[2]||(a[2]=n=>h("Delete Account")),class:b(["btn-menu",{active:o.value==="Delete Account"}])}," 회원 탈퇴하기 ",2)]),o.value==="My Information"?(p(),r("article",$,[e("div",q,[E,e("div",L,[T,e("p",z,w(_.value.userName),1)]),e("div",U,[Y,e("p",F,w(_.value.email),1)])])])):o.value==="Reset Password"?(p(),r("article",G,[e("div",H,[e("div",J,[e("div",K,[O,d(x,{type:"password",class:"w-[50%] text-[20px] font-light"})]),e("div",Q,[W,d(x,{type:"password",class:"w-[50%] text-[20px] font-light"})]),e("div",X,[Z,d(x,{type:"password",class:"w-[50%] text-[20px] font-light"})])]),ee])])):o.value==="Delete Account"?(p(),r("article",se,[e("div",te,[e("div",oe,[ae,d(x,{type:"password",modelValue:f.value,"onUpdate:modelValue":a[3]||(a[3]=n=>f.value=n),class:"w-[50%] text-[20px] font-light"},null,8,["modelValue"])]),e("div",le,[ce,e("button",{class:"btn-primary px-[20px] py-[10px] rounded-[30px] rounded-br-none",onClick:g,disabled:m.value}," Delete Account ",8,ne)])])])):C("",!0)])]))}}),xe=V(ie,[["__scopeId","data-v-1ae11418"]]);export{xe as default};
