import{d as y,u as k,r as i,m as I,a as w,c as d,e as s,t as b,A as v,f as p,s as C,n as P,h as r,p as A,j as M,_ as R}from"./index-B-3Hk8Y0.js";import{_ as x}from"./CommonInput.vue_vue_type_script_setup_true_lang-k5PHNiWp.js";const V="/images/sample-image.svg",D="/images/delete-account.svg",t=l=>(A("data-v-eaa0b8c6"),l=l(),M(),l),j={class:"my-body"},N={class:"text-3xl-bold mb-[20px]"},S={class:"grid grid-cols-4"},B={class:"flex flex-col gap-[10px] pt-[20px]"},L={key:0,class:"function-box"},$={class:"w-[80%] flex flex-col gap-[30px] p-[20px]"},E=t(()=>s("img",{src:V,alt:"sample-image",class:"w-[180px] h-[180px] rounded-[10px] border object-cover"},null,-1)),T={class:"flex border-b-[1.5px] border-black"},z=t(()=>s("label",{class:"w-[30%] text-[26px]"},"Name",-1)),U={class:"w-[70%]] text-[26px] font-light"},Y={class:"flex border-b-[1.5px] border-black"},q=t(()=>s("label",{class:"w-[30%] text-[26px]"},"Email",-1)),F={class:"w-[70%]] text-[26px] font-light"},G={key:1,class:"function-box"},H={class:"w-full flex flex-col justify-between gap-[30px] p-[20px]"},J={class:"flex flex-col gap-[30px]"},K={class:"flex flex-col gap-[10px]"},O=t(()=>s("label",{class:"w-[50%] text-[20px]"},"Current Password",-1)),Q={class:"flex flex-col gap-[10px]"},W=t(()=>s("label",{class:"w-[50%] text-[20px]"},"New Password",-1)),X={class:"flex flex-col gap-[10px]"},Z=t(()=>s("label",{class:"w-[50%] text-[20px]"},"Confirm New Password",-1)),ss=t(()=>s("div",{class:"flex justify-end"},[s("button",{class:"btn-primary p-[10px]"},"Reset Password")],-1)),es={key:2,class:"function-box"},ts={class:"w-full flex flex-col justify-between gap-[30px] p-[20px]"},os={class:"flex flex-col gap-[10px]"},as=t(()=>s("label",{class:"w-[50%] text-[20px]"},"Your Password",-1)),ls={class:"flex items-end justify-between"},ns=t(()=>s("img",{src:D},null,-1)),cs=["disabled"],is=y({__name:"MyView",setup(l){const _=P(),{addToast:n}=k(),o=i("My Information"),u=i({name:"",email:"",password:""}),f=i(""),m=i(!1);I(async()=>{await w.checkLogin()||(n({message:"로그인이 필요합니다."}),_.push("/login"));const e=await w.getInformation();e?u.value=e:(n({message:"사용자 정보를 가져올 수 없습니다. 다시 시도해주세요."}),_.back())});const h=a=>{o.value=a},g=async()=>{if(m.value)return;const a={password:f.value};await w.deleteAccount(a)?(n({message:"탈퇴가 완료되었습니다."}),_.push("/login")):n({message:"탈퇴에 실패했습니다. 다시 시도해주세요."}),m.value=!1};return(a,e)=>(r(),d("div",j,[s("h1",N,b(o.value),1),s("section",S,[s("article",B,[s("button",{onClick:e[0]||(e[0]=c=>h("My Information")),class:v(["btn-menu",{active:o.value==="My Information"}])}," 내 정보 ",2),s("button",{onClick:e[1]||(e[1]=c=>h("Reset Password")),class:v(["btn-menu",{active:o.value==="Reset Password"}])}," 비밀번호 수정 ",2),s("button",{onClick:e[2]||(e[2]=c=>h("Delete Account")),class:v(["btn-menu",{active:o.value==="Delete Account"}])}," 회원 탈퇴하기 ",2)]),o.value==="My Information"?(r(),d("article",L,[s("div",$,[E,s("div",T,[z,s("p",U,b(u.value.name),1)]),s("div",Y,[q,s("p",F,b(u.value.email),1)])])])):o.value==="Reset Password"?(r(),d("article",G,[s("div",H,[s("div",J,[s("div",K,[O,p(x,{type:"password",class:"w-[50%] text-[20px] font-light"})]),s("div",Q,[W,p(x,{type:"password",class:"w-[50%] text-[20px] font-light"})]),s("div",X,[Z,p(x,{type:"password",class:"w-[50%] text-[20px] font-light"})])]),ss])])):o.value==="Delete Account"?(r(),d("article",es,[s("div",ts,[s("div",os,[as,p(x,{type:"password",modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=c=>f.value=c),class:"w-[50%] text-[20px] font-light"},null,8,["modelValue"])]),s("div",ls,[ns,s("button",{class:"btn-primary px-[20px] py-[10px] rounded-[30px] rounded-br-none",onClick:g,disabled:m.value}," Delete Account ",8,cs)])])])):C("",!0)])]))}}),rs=R(is,[["__scopeId","data-v-eaa0b8c6"]]);export{rs as default};
