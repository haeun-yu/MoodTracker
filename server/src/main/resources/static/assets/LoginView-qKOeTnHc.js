import{a as _}from"./auth-CNAqI4To.js";import{e as x,u as b,f as m,g as V,h as y,r as L,o as E,c as k,a as e,b as r,w as f,d as v,i as A,p as I,j as S,_ as j}from"./index-CCkaNh0Q.js";import{_ as h}from"./CommonInput.vue_vue_type_script_setup_true_lang-Cn9mfXc_.js";const C="/images/login.svg",c=t=>(I("data-v-7512961c"),t=t(),S(),t),R={class:"login-body"},T=c(()=>e("section",{class:"w-[40%] h-[calc(70vh)]"},[e("img",{src:C,alt:"sample-image",class:"w-full h-full object-cover rounded-l-[40px]"})],-1)),z={class:"w-[60%] flex flex-col items-center justify-center gap-[50px]"},B=c(()=>e("h1",{class:"text-5xl-bold"},"Login",-1)),M={class:"w-[50%] flex flex-col gap-[15px]"},N={class:"flex items-center"},P=c(()=>e("label",null,"Email",-1)),Z={class:"flex items-center"},F=c(()=>e("label",null,"Password",-1)),U=["disabled"],$={class:"w-full flex justify-end"},O=x({__name:"LoginView",setup(t){const d=A(),{addToast:l}=b(),s=m({email:"",password:""}),o=m(!1),u=V(()=>!s.value.email||!s.value.password),g=/^([0-9a-zA-Z_.-]+)@([0-9a-zA-Z_-]+)(\.[0-9a-zA-Z_-]+){1,2}$/;y(async()=>{try{await _.checkLogin()&&d.push("/")}catch(a){l({message:"서버에 문제가 발생했습니다. 다시 시도해주세요."}),console.error(a),o.value=!1}});const w=async()=>{if(!o.value){if(o.value=!0,u.value){l({message:"모든 항목을 입력해주세요."}),o.value=!1;return}if(!g.test(s.value.email)){l({message:"이메일을 올바르게 입력해주세요."}),o.value=!1;return}try{await _.login(s.value),d.push("/")}catch(a){l({message:"로그인에 실패했습니다. 다시 시도해주세요."}),console.error(a),o.value=!1}}};return(a,n)=>{const p=L("RouterLink");return E(),k("div",R,[T,e("section",z,[B,e("article",M,[e("div",N,[P,r(h,{modelValue:s.value.email,"onUpdate:modelValue":n[0]||(n[0]=i=>s.value.email=i),placeholder:"Enter Email"},null,8,["modelValue"])]),e("div",Z,[F,r(h,{modelValue:s.value.password,"onUpdate:modelValue":n[1]||(n[1]=i=>s.value.password=i),placeholder:"Enter Password"},null,8,["modelValue"])]),e("button",{class:"btn-primary p-[10px]",onClick:w,disabled:o.value||u.value}," Login ",8,U),r(p,{to:"/sign-up",class:"btn-secondary p-[10px]"},{default:f(()=>[v("Sign up")]),_:1}),e("div",$,[r(p,{to:"/reset-password",class:"btn-line"},{default:f(()=>[v("Forget password")]),_:1})])])])])}}}),H=j(O,[["__scopeId","data-v-7512961c"]]);export{H as default};
